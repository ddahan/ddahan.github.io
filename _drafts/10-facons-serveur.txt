Il y a quelques années, j'ai fait l'acquisition d'un <a href="http://www.amazon.fr/HP-658553-421-MicroServer-processeur-Contr%C3%B4leur/dp/B005LRCASM">HP MicroServer</a> pour environ 250€. Quésako ? C'est un serveur comme un autre en fait, mais sa taille et son prix font de lui un compagnon parfait pour une petite start-up ou un particulier.

Avec tous les différents usages qu'on peut en faire, vous allez vous rendre compte que ce n'est pas qu'un achat impulsif de geek qui souhaite à tout prix transformer son salon en datacenter ! Néanmoins, si vous souhaitez draguer une fille dans un bar, c'est pas forcément le sujet le plus conseillé à aborder, je vous l'accorde.

Allez c'est parti, voyons voir tout ce qu'on peut faire !

1) Serveur de fichier (NAS)

Pour que ce système soit viable, il faudra tout de même vous assurer d'avoir un réseau local de bonne qualité. Prenez en compte par exemple qu'en étant connecté à votre NAS via votre routeur wi-fi, ça sera difficile de lire des fichiers HD en temps réel. Au contraire, avec une connexion Ethernet directe à votre box, ça ne posera pas de problème à priori.

2) Serveur FTP

Vous avez besoin de partager 5Go de photos et de vidéos de vacances ? L'upload risque d'être long non ? Une solution simple consiste à créer un serveur FTP. Il suffit ensuite de créer un ou plusieurs accès pour les personnes supposées y accéder.

Note : ce protocole est un peu obsolète d'un point de vue sécurité, donc lorsqu'il n'est pas utilisé, pensez à le désactiver, ça évitera que des gens s'introduisent sur votre réseau.

3) Client BitTorrent

Vous êtes accroc au téléchargement ? Vous êtes du genre à laisser votre ordi tourner la nuit pour télécharger ? Pourquoi ne pas utiliser votre serveur pour jouer ce rôle ? Lui au moins, il tourne H24 par défaut, et si vous avez un NAS, les fichiers seront déjà dessus. En plus, certains programmes/scripts permettent même de télécharger automatiquement certains fichiers nouvellement disponibles, via des flux RSS. En gros, vous vous reveillez, et les fichiers que vous vouliez vous attendent tranquilement, la belle vie.

4) Serveur de sauvegarde (Rsync)

Imaginez votre maman qui vient tout juste d'apprendre à transférer ses photos dans le dossier "photo" de son ordinateur. Vous espérez quand-même pas qu'elle pense à les sauvegarder dans le claoud ?

L'astuce, vous lui installez un client <a href="http://fr.wikipedia.org/wiki/Rsync">Rsync</a> sur son ordinateur, et vous, vous vous occupez de la partie serveur. Concrètement, à des horaires définis, le contenu de son dossier "photo" sera synchronisé sur votre serveur. Et comme Rsync est intelligent, il va synchroniser juste le différentiel entre les deux dossiers, pour ne pas dévorer toute la bande passante. Evidemment, ça peut fonctionner en local, avec votre maman chez vous, mais aussi avec votre mamie qui habite à 50km, en passant cette fois-ci par Internet. Dans ce cas, on pensera à utiliser un VPN pour assurer un minimum de confidentialité sur les données transférées. Notez que Rsync est un logiciel libre, gratuit, multi OS, fiable et intelligent.

PS : Pensez à lui dire quand même que vous pouvez voir toutes ses photos, on sait jamais...

5) Hégerbeur de site web

Vous aussi les hébergeurs soi-disant gratuits vous n'y croyez pas ?

Attention, n'esperez pas atteindre une dispo de 99.99% dans votre propre maison. Une prise débranchée en passant l'aspirateur, ça arrive ! Une coupure de courant EDF, une erreur de manip aussi.

6) Serveur d'impression (CUPS)

Vous avez une bonne vieille imprimante réseau et vous voudriez qu'elle puisse être utilisée par toute la famille, un petit serveur d'impression CUPS est bien pratique. Ce dernier va permettre à n'importe qui connecté au réseau local d'installer l'imprimante facilement. Certes, si vous avez une imprimante wi-fi, pas besoin !

7) Serveur Git

Vous développez en équipe et vous voulez votre propre serveur Git ? Pourquoi pas ! Là encore, le choix de ne pas prendre un serveur dans le cloud, à l'heure où des services commes Github cartonnent, doit être mûrement réfléchi.

8) Hyperviseur (ESX ou Xen)

Là ça devient intéressant. Imaginez votre serveur comme un terrain de jeu géant, où vous pouvez ajouter des machines virtuelles, faire tous les tests que vous voulez, puis en supprimer. En fait, transformer votre serveur en hyperviseur va vous permettre de faire tous les usages qu'on a vus ci-dessus, sans jamais avoir le risque de casser quelque chose.

Si vous voulez mettre un ESX, il faudra 4Go de RAM minimum.

9) VPN

Vous avez décidé de devenir agents secrets avec votre girl friend (oui je pars du principe que le lecteur est masculin), et vous décidez que tous vos échanges ne devront jamais être interceptés par les méchants américains de la NSA ? Pourtant, vous habitez à 300 Km l'un de l'autre et votre seul moyen de communication est Internet ? Ou vous êtes tout simplement parano ? Pas de soucis, vous allez utiliser un VPN, et donc créer un tunnel qui simulera une connexion locale avec votre partenaire, alors que le flux est encapsulé dans un protocole sécurisé. Si des données sont interceptées, elles seront indéchiffrables. Alors oui, ça pourrait être géré directement côté client, mais si on peut alléger sa machine en déportant ça sur le serveur, pourquoi se gêner ?

Le logiciel libre le plus connu est <a href="https://openvpn.net/">OpenVPN</a>

<strong>Et moi alors dans tout ça comment je m'en sers ?</strong>

Lorsque ma friteuse et mon lave-linge sont allumés en même temps, les plombs sautent (si si j'habite à Paris j'vous jure). Du coup, pour tout ce qui est "critique", j'évite de me faire confiance en tant qu'hébergeur web.

Je l'utilise principalement comme NAS pour y mettre tous mes fichiers volumineux. Idéalement j'aurais dû y mettre du <a href="http://fr.wikipedia.org/wiki/RAID_%28informatique%29#RAID_1_:_Disques_en_miroir">RAID 1</a> pour m'éviter une bête perte de données, mais j'ai été feignant et placé mes fichiers plus importants (Photos, etc.) sur Dropbox (ce qui n'est pas la meilleure des solutions puisque<a href="http://college.wfu.edu/itg/scott-claybrook/2014/10/21/dropbox-is-not-a-backup-service/"> Dropbox n'est pas un outil de sauvegarde</a>).

Pour ne pas réinventer la roue, j'utilise une distribution qui s'appelle <a href="http://www.openmediavault.org/">OpenMediaVault</a> et permet de gérer ça très facilement.

Cette distrib n'est qu'une machine virtuelle puisqu'en fait sur mon serveur j'ai installé un hyperviseur ESX (VmWare).

Pour ceux qui ne connaissent pas, vulgairement, ça me permet d'installer différents systèmes d'exploitations, sur mon unique serveur physiques. Chaque "machine virtuelle" a son propre système d'exploitation, sa propre quantité de RAM, de disque, et de CPU alloués. Tout est donc cloisonné. Je profite donc régulièrement de mon serveur pour monter des VMs et faire des tests particuliers. Dernièrement, j'ai créé 3 machines virtuelles pour tester le calcul distribué sous Hadoop par exemple.

<strong>Et vous, vous voyez un autre moyen intéressant d'utiliser un votre home server ?</strong>
